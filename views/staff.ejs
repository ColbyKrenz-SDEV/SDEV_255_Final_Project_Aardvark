<html lang="en">
<%- include("./partials/head.ejs") %>

<body>
    <%- include("./partials/navbar.ejs") %>  

  <main class="content">

    <section id="modify">
      <div class="section-inner">
        <h1>Modify Courses</h1>
        <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. At deserunt magni molestiae. Est, minus? Obcaecati nemo modi, necessitatibus possimus deserunt tempora fugit numquam animi! Cum exercitationem deserunt nemo numquam suscipit!</p>
      </div>
    </section>

    <section id="add-class">
      <div class="add-section" id="add-course">
          <form action="/courses" method="POST">
                        <div class="row">
                          <div class="label-col">
                            <label for="cname">Course Name</label>
                          </div>
                          <div class="input-col">
                            <input type="text" id="cname" name="cname" placeholder="Course name.." required>
                          </div>
                        </div>
                        <div class="row">
                          <div class="label-col">
                            <label for="cdescript">Course Description</label>
                          </div>
                          <div class="input-col">
                            <textarea id="cdescript" name="cdescript" placeholder="Description of the course..." required rows="4" cols="50"></textarea>
                          </div>
                        </div>
                        <div class="row">
                          <div class="label-col">
                            <label for="sarea">Subject Area</label>
                          </div>
                          <div class="input-col">
                            <select name="sarea" id="sarea" required>
                              <% if (subjects.length > 0) { %>
                                <% subjects.forEach(subject => { %>
                                  <option value="<%= subject.title %>"><%= subject.title %></option>                                
                                <% }) %>
                              <% } else { %>
                                <p>There are no subjects to select.</p>                              
                              <% } %>
                            </select>
                          </div>
                        </div>
                        <div class="row">
                          <div class="label-col">
                            <label for="chours">Credit Hours</label>
                          </div>
                          <div class="input-col">
                            <input type="text" id="chours" name="chours" placeholder="Number of credit hours.." required>
                          </div>
                        </div>
                        <br>
                        <div class="row">
                          <input type="submit" value="  Add  ">
                        </div>
          </form>                
      </div>
    </section>

    <section id="courses-offered">
      <div class="section-inner">
        <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Pariatur voluptatum maxime beatae qui quod. Amet minus accusantium nesciunt provident, sint tempore ratione aliquam sed harum labore possimus sit laudantium nisi.</p>
      </div>
      <input type="submit" class="delete"  value="Delete" >
    </section>

    <section id="add-class">
      <div class="add-section" id="update-course" hidden>
        <h2>Modify Class</h2>
          <form action="" method="POST">
                        <div class="row">
                          <div class="label-col">
                            <label for="cname">Course Name</label>
                          </div>
                          <div class="input-col">
                            <input type="text" id="cname" name="cname" value="" required>
                          </div>
                        </div>
                        <div class="row">
                          <div class="label-col">
                            <label for="cdescript">Course Description</label>
                          </div>
                          <div class="input-col">
                            <textarea id="cdescript" name="cdescript" required rows="4" cols="50"></textarea>
                          </div>
                        </div>
                        <div class="row">
                          <div class="label-col">
                            <label for="sarea">Subject Area</label>
                          </div>
                          <div class="input-col">
                            <select name="sarea" id="sarea" required>
                              <% if (subjects.length > 0) { %>
                                <% subjects.forEach(subject => { %>
                                  <option value="<%= subject.title %>"><%= subject.title %></option>                                
                                <% }) %>
                              <% } else { %>
                                <p>There are no subjects to select.</p>                              
                              <% } %>
                            </select>
                          </div>
                        </div>
                        <div class="row">
                          <div class="label-col">
                            <label for="chours">Credit Hours</label>
                          </div>
                          <div class="input-col">
                            <input type="text" id="chours" name="chours" value="" required>
                          </div>
                        </div>
                        <br>
                        <div class="row">
                          <input type="submit" value="Modify">
                          <input type="button" value="Cancel" id="cancel-update">
                        </div>
          </form>        
        
      </div>
    </section>

    <section id="courses-modify">
      <div class="section-inner" id="update-course" hidden>
        Hello!!
      </div>
    </section>

  </main>
  <%- include("./partials/footer.ejs") %>
  <script>
    /*
    const trashcan = document.querySelector('input.delete');

    trashcan.addEventListener('click', (e) => {
        const endpoint = `/courses/${trashcan.dataset.doc}`;

        fetch(endpoint, {
            method: 'DELETE'
        })
        .then((response) => response.json())
        .then((data) => window.location.href = data.redirect)
        .catch(err => console.log(err));
    });*/
    const updateSection = document.getElementById('update-course');
    const addSection = document.getElementById('add-course');

    const deleteButton = document.querySelector('input.delete');
    deleteButton.addEventListener('click', (e) => {
      addSection.hidden = true;
      updateSection.hidden = false;
    });

    const cancelButton = document.getElementById('cancel-update');
    cancelButton.addEventListener('click', (e) => {
      addSection.hidden = false;
      updateSection.hidden = true;
    })


</script>

</body>

</html>